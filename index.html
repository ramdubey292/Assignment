<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        background-color: #fffeff;
      }
      .container {
        border: 1px solid #ccc;
        border-radius: 10px;
        padding: 20px;
        min-width: 300px;
      }
      h2 {
        margin-bottom: 2px;
      }
      .countryCode {
        border-right: none;
        border-top-right-radius: 0%;
        border-bottom-right-radius: 0%;
      }
      .mobile {
        border-left: none;
        border-top-left-radius: 0%;
        border-bottom-left-radius: 0%;
      }
      .bodyImg {
        max-width: 50%;
        height: 50%;
        display: block;
        margin: auto;
      }
      .titleImg {
        width: 60%;
        height: 80px;
        display: block;
        margin: auto;
      }
      @media screen and (max-width: 770px) {
        .bodyImg {
          position: static;
        }
      }
    </style>
    <title>survey</title>
</head>
<body>
  <div class="container invisible text-center my-4" id="successMessage"></div>
  <div class="container" id="surveyForm">
    <div class="row gx-0 justify-content-center">
      <img class="col-md-6 bodyImg" src="assignment/bodyimg.png" alt="Body Image" />
      <div class="col-md-6 mt-4">
        <form>
          <img class="titleImg" src="assignment/title.png" alt="title Image" />
          <h2 class="text-center">Get a Free</h2>
          <h4 class="mb-3 text-center">consultation with an expert</h4>
          <div class="mb-3 row px-0 gx-0">
            <input
              class="form-control shadow-none"
              type="email"
              id="email"
              placeholder="Enter your email"
            />
          </div>
          <div class="mb-3 row px-0 gx-0">
            <div class="col-lg-2 col-3">
              <select
                class="form-select countryCode shadow-none"
                id="countryCode"
              >
                <option value="+91">+91</option>
                <option value="+92">+92</option>
                <option value="+93">+93</option>
              </select>
            </div>
            <div class="col-lg-10 col-9">
              <input
                class="form-control col-11 mobile shadow-none"
                type="text"
                id="mobile"
                placeholder="Enter your mobile"
              />
            </div>
          </div>
          <div class="mb-3 row gx-0">
            <button class="btn btn-dark" id="formSubmit">
              TALK TO US ->
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <script>
    document
   .getElementById("formSubmit")
   .addEventListener("click", function (event) {
     event.preventDefault();
     
     // Get the input values
     let email = document.getElementById("email").value.trim();
     let countryCode = document.getElementById("countryCode").value.trim();
     let mobile = document.getElementById("mobile").value.trim();
 
     // Validate the input values
     let errors = [];
     if (email.length == 0) {
       errors.push("Email address is required.");
     } else if (!isValidEmail(email)) {
       errors.push("Invalid email address.");
     }
 
 
     if (countryCode.length == 0) {
       errors.push("Country code is required.");
     }
 
     if (mobile.length == 0) {
       errors.push("Mobile number is required.");
     } else if (!isValidMobile(mobile)) {
       errors.push("Invalid mobile number.");
     }
     
 
     // Display the error messages or the success message
     if (errors.length > 0) {
       let errorMessage = "<ul>";
       for (let i = 0; i < errors.length; i++) {
         errorMessage += "<li>" + errors[i] + "</li>";
       }
       errorMessage += "</ul>";
       document.getElementById("successMessage").innerHTML = errorMessage;
     } else {
       let successMessage =
         "<div>Thanks a ton for taking out your precious time and for completing the survey</div><div>Email Address " +
         email +
         "</div><div>Contact Number " +
         countryCode +
         "-" +
         mobile +
         "</div>";
       document.getElementById("successMessage").innerHTML = successMessage;
       document.getElementById("surveyForm").classList.add("invisible");
       document.getElementById("successMessage").classList.remove("invisible");
     }
   });
 
 function isValidEmail(email) {
   // Check if the email address is valid
   let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
   return emailRegex.test(email);
 }
 
 function isValidMobile(mobile) {
   // Check if the mobile number is valid
   let mobileRegex = /^[0-9]{10}$/;
   return mobileRegex.test(mobile);
 }
 
 // Add event listeners to validate the input values in real-time
 document.getElementById("email").addEventListener("input", function () {
   let email = document.getElementById("email").value.trim();
   if (email.length > 0 && !isValidEmail(email)) {
     document.getElementById("email").setCustomValidity("Invalid email address.");
   } else {
     document.getElementById("email").setCustomValidity("");
   }
 });
 
 document.getElementById("mobile").addEventListener("input", function () {
   let mobile = document.getElementById("mobile").value.trim();
   if (mobile.length > 0 && !isValidMobile(mobile)) {
     document.getElementById("mobile").setCustomValidity("Invalid mobile number.");
   } else {
     document.getElementById("mobile").setCustomValidity("");
   }
 });
 
   </script>
</body>
</html>
